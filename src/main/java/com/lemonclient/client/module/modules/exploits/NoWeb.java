package com.lemonclient.client.module.modules.exploits;

import com.lemonclient.api.setting.values.IntegerSetting;
import com.lemonclient.api.setting.values.ModeSetting;
import com.lemonclient.api.util.world.MotionUtil;
import com.lemonclient.api.util.world.TimerUtils;
import com.lemonclient.client.module.Category;
import com.lemonclient.client.module.Module;
import java.util.Arrays;

@Module.Declaration(
   name = "NoWeb",
   category = Category.Exploits
)
public class NoWeb extends Module {
   ModeSetting mode = this.registerMode("Mode", Arrays.asList("Ignore", "Timer"), "Timer");
   IntegerSetting timerSpeed = this.registerInteger("Timer Speed", 50, 1, 50, () -> {
      return ((String)this.mode.getValue()).equals("Timer");
   });
   boolean changed;

   public void onUpdate() {
      if (mc.field_71439_g.field_70134_J) {
         String var1 = (String)this.mode.getValue();
         byte var2 = -1;
         switch(var1.hashCode()) {
         case -2106529294:
            if (var1.equals("Ignore")) {
               var2 = 0;
            }
            break;
         case 80811813:
            if (var1.equals("Timer")) {
               var2 = 1;
            }
         }

         switch(var2) {
         case 0:
            mc.field_71439_g.field_70134_J = false;
            break;
         case 1:
            if (!mc.field_71439_g.field_70122_E && !MotionUtil.isMoving(mc.field_71439_g) && !mc.field_71439_g.field_71075_bZ.field_75100_b) {
               TimerUtils.setSpeed((float)(Integer)this.timerSpeed.getValue());
               this.changed = true;
            } else {
               TimerUtils.setSpeed(1.0F);
            }
         }
      } else if (this.changed) {
         this.changed = false;
         TimerUtils.setSpeed(1.0F);
      }

   }
}
